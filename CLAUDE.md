# CLAUDE.md - Web開発ガイドライン

このドキュメントは、Claude Codeを使用したWeb開発における標準的な開発プロセスとベストプラクティスを定義します。

## 開発ルーティーン（必須）

以下のワークフローを厳守してください：

### 1. Issue駆動開発
- 実装前に必ずGitHub Issueを作成する
- Issueが大きい場合は、1つのPRに対応するSub Issueに分割する
- Issue番号をブランチ名に含める（例：`feature/123-add-user-authentication`）

### 2. TDD（テスト駆動開発）
- t-wadaの推奨するTDD手法を実施する
  - RED: 失敗するテストを書く
  - GREEN: テストを通す最小限の実装
  - REFACTOR: コードを改善する
- テストファーストを徹底する

### 3. ローカル検証
開発完了後、以下を実行してすべてパスすることを確認：
- ビルド（必要な場合）
- テスト実行
- コードフォーマット
- Lintチェック

### 4. PR作成とIssue連携
- PRタイトルに`fixes #123`または`closes #123`を含める
- PR本文に変更内容と確認項目を記載
- レビュー依頼前にセルフレビューを実施

### 5. CI/CD確認
- GitHub ActionsのCIがすべてグリーンになることを確認
- エラー発生時は速やかに修正

### 6. 最新情報の取得
- フレームワーク・ライブラリの最新仕様は公式ドキュメントから取得
- 破壊的変更に注意し、必要に応じてマイグレーションガイドを参照

## 共通開発原則

### エラーハンドリング
- すべての異常系処理でエラーログを出力
- ユーザーへのエラーメッセージは具体的かつ理解しやすく
- スタックトレースは開発環境のみで表示

### セキュリティ
- 入力値の検証を徹底
- SQLインジェクション、XSS、CSRFへの対策
- 機密情報は環境変数で管理

### パフォーマンス
- N+1問題の回避
- 適切なインデックスの設定
- 不要なリクエストの削減

### コード品質
- DRY原則の遵守
- 単一責任の原則
- 意味のある変数名・関数名

### ドキュメント
- APIエンドポイントはOpenAPI仕様で文書化
- 複雑なロジックにはコメントを追加
- READMEの継続的な更新

### Git運用
- コミットメッセージは[Conventional Commits](https://www.conventionalcommits.org/)に従う
  - `feat:` 新機能
  - `fix:` バグ修正
  - `docs:` ドキュメント
  - `style:` フォーマット
  - `refactor:` リファクタリング
  - `test:` テスト
  - `chore:` その他
- 定期的なリベースで履歴をクリーンに保つ

### レビュー文化
- コードレビューは建設的に
- 小さなPRを心がける（300行以下推奨）
- レビュー指摘への対応は24時間以内

## 開発するもの

- vite + react + shadcn
  - ライブラリはできる限り最新版を使用する
- ローカルにあるcsv形式のテストケースを画面上から入力/編集/閲覧できる
- 一旦デプロイは考えなくて良い

## 作業報告書の出力先

実装した内容については以下のpathに記録を残していってください。

report/YYYYMM/DD/xxxx.md

- 作業内容の詳細説明
- 修正・変更に関する重要ポイント
- コードレビュー後の仕様と実装の注意点
- 実装における重要事項とテストの観点

## 更新履歴

このドキュメントは定期的に更新されます。重要な変更はチーム全体に通知されます。